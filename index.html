                <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="theme-color" content="#3B82F6">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta name="apple-mobile-web-app-title" content="Padel Tournament">
  <meta name="description" content="Professional Padel Tournament Manager - Track matches, scores, and standings">
  
  <title>Padel Tournament Manager</title>
  
  <!-- PWA Manifest -->
  <link rel="manifest" href="manifest.json">
  
  <!-- Icons -->
  <link rel="icon" type="image/png" sizes="192x192" href="icon-192.png">
  <link rel="icon" type="image/png" sizes="512x512" href="icon-512.png">
  <link rel="apple-touch-icon" href="icon-192.png">
  
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  
  <!-- React -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
    
    /* Install prompt styles */
    .install-prompt {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: white;
      padding: 16px 24px;
      border-radius: 12px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.3);
      z-index: 9999;
      max-width: 90%;
      animation: slideUp 0.3s ease-out;
    }
    
    @keyframes slideUp {
      from {
        transform: translateX(-50%) translateY(100px);
        opacity: 0;
      }
      to {
        transform: translateX(-50%) translateY(0);
        opacity: 1;
      }
    }
    
    .install-prompt button {
      background: white;
      color: #667eea;
      border: none;
      padding: 8px 16px;
      margin: 0 4px;
      border-radius: 6px;
      font-weight: bold;
      cursor: pointer;
      transition: transform 0.2s;
    }
    
    .install-prompt button:hover {
      transform: scale(1.05);
    }
  </style>
</head>
<body>
  <div id="root"></div>
  
  <!-- Install Prompt -->
  <div id="install-prompt" style="display: none;" class="install-prompt">
    <div style="margin-bottom: 8px; font-weight: bold;">üì± Install Padel Tournament App</div>
    <div style="font-size: 14px; margin-bottom: 12px;">Add to your home screen for quick access!</div>
    <button id="install-yes">Install</button>
    <button id="install-no" style="background: transparent; color: white; border: 1px solid white;">Not Now</button>
  </div>
  
  <script type="text/babel" data-type="module">
    const { useState, useEffect } = React;

    function PadelTournamentApp() {
      const [selectedRound, setSelectedRound] = useState(1);
      const [activeTab, setActiveTab] = useState('tournament');
      const [filterRound, setFilterRound] = useState('all');
      const [filterPlayer, setFilterPlayer] = useState('all');
      const [savedVersions, setSavedVersions] = useState([]);
      
      // Load player names from localStorage or use defaults
      const [playerNames, setPlayerNames] = useState(() => {
        const saved = localStorage.getItem('padelTournament_playerNames');
        return saved ? JSON.parse(saved) : [
          'Player 1', 'Player 2', 'Player 3', 'Player 4', 'Player 5', 'Player 6', 'Player 7', 'Player 8',
          'Player 9', 'Player 10', 'Player 11', 'Player 12', 'Player 13', 'Player 14', 'Player 15', 'Player 16',
          'Player 17', 'Player 18', 'Player 19', 'Player 20', 'Player 21', 'Player 22', 'Player 23', 'Player 24'
        ];
      });
      
      // Load skill ratings from localStorage or use defaults
      const [skillRatings, setSkillRatings] = useState(() => {
        const saved = localStorage.getItem('padelTournament_skillRatings');
        return saved ? JSON.parse(saved) : {
          1: 3.85, 2: 3.75, 3: 3.7, 4: 3.6, 5: 3.55, 6: 3.4, 7: 3.4, 8: 3.3,
          9: 3.2, 10: 3.15, 11: 3.1, 12: 3.1, 13: 3.0, 14: 2.95, 15: 2.95, 16: 2.9,
          17: 2.85, 18: 2.85, 19: 2.75, 20: 2.7, 21: 2.6, 22: 2.55, 23: 2.55, 24: 2.45
        };
      });
      
      // Load match scores from localStorage or initialize empty
      const [matchScores, setMatchScores] = useState(() => {
        const saved = localStorage.getItem('padelTournament_matchScores');
        if (saved) return JSON.parse(saved);
        
        const initialScores = {};
        for (let round = 1; round <= 13; round++) {
          initialScores[round] = {};
          for (let match = 1; match <= 6; match++) {
            initialScores[round][match] = { team1Score: null, team2Score: null };
          }
        }
        return initialScores;
      });
      
      const [knockoutScores, setKnockoutScores] = useState(() => {
        const saved = localStorage.getItem('padelTournament_knockoutScores');
        return saved ? JSON.parse(saved) : {
          qf1: { team1Score: null, team2Score: null },
          qf2: { team1Score: null, team2Score: null },
          qf3: { team1Score: null, team2Score: null },
          qf4: { team1Score: null, team2Score: null },
          sf1: { team1Score: null, team2Score: null },
          sf2: { team1Score: null, team2Score: null },
          final: { team1Score: null, team2Score: null }
        };
      });
      
      const [knockoutMaxScore, setKnockoutMaxScore] = useState(() => {
        const saved = localStorage.getItem('padelTournament_knockoutMaxScore');
        return saved ? parseInt(saved) : 16;
      });
      
      const [semiMaxScore, setSemiMaxScore] = useState(() => {
        const saved = localStorage.getItem('padelTournament_semiMaxScore');
        return saved ? parseInt(saved) : 16;
      });
      
      const [finalMaxScore, setFinalMaxScore] = useState(() => {
        const saved = localStorage.getItem('padelTournament_finalMaxScore');
        return saved ? parseInt(saved) : 16;
      });
      
      // Auto-save to localStorage whenever data changes
      useEffect(() => {
        localStorage.setItem('padelTournament_playerNames', JSON.stringify(playerNames));
      }, [playerNames]);

      useEffect(() => {
        localStorage.setItem('padelTournament_skillRatings', JSON.stringify(skillRatings));
      }, [skillRatings]);

      useEffect(() => {
        localStorage.setItem('padelTournament_matchScores', JSON.stringify(matchScores));
      }, [matchScores]);

      useEffect(() => {
        localStorage.setItem('padelTournament_knockoutScores', JSON.stringify(knockoutScores));
      }, [knockoutScores]);

      useEffect(() => {
        localStorage.setItem('padelTournament_knockoutMaxScore', knockoutMaxScore.toString());
      }, [knockoutMaxScore]);

      useEffect(() => {
        localStorage.setItem('padelTournament_semiMaxScore', semiMaxScore.toString());
      }, [semiMaxScore]);

      useEffect(() => {
        localStorage.setItem('padelTournament_finalMaxScore', finalMaxScore.toString());
      }, [finalMaxScore]);

      // REST OF YOUR REACT CODE GOES HERE
      // (Copy everything from the artifact starting from the fixtures constant)
      
      return (
        <div className="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-2 sm:p-4">
          <div className="max-w-6xl mx-auto">
            <div className="text-center mb-8">
              <h1 className="text-4xl font-bold text-gray-800 mb-2">üèì Padel Tournament</h1>
              <p className="text-gray-600">24 Players ‚Ä¢ 13 Rounds ‚Ä¢ Fairness-Optimized Competition</p>
            </div>
            {/* REST OF YOUR JSX */}
          </div>
        </div>
      );
    }

    ReactDOM.render(<PadelTournamentApp />, document.getElementById('root'));
  </script>
  
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  
  <!-- Service Worker Registration -->
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('service-worker.js')
          .then(reg => console.log('‚úÖ Service Worker registered'))
          .catch(err => console.log('‚ùå Service Worker registration failed:', err));
      });
    }
    
    // PWA Install Prompt
    let deferredPrompt;
    const installPrompt = document.getElementById('install-prompt');
    const installYes = document.getElementById('install-yes');
    const installNo = document.getElementById('install-no');
    
    window.addEventListener('beforeinstallprompt', (e) => {
      e.preventDefault();
      deferredPrompt = e;
      
      // Show install prompt after 3 seconds
      setTimeout(() => {
        installPrompt.style.display = 'block';
      }, 3000);
    });
    
    installYes.addEventListener('click', async () => {
      if (deferredPrompt) {
        deferredPrompt.prompt();
        const { outcome } = await deferredPrompt.userChoice;
        console.log(`User response: ${outcome}`);
        deferredPrompt = null;
      }
      installPrompt.style.display = 'none';
    });
    
    installNo.addEventListener('click', () => {
      installPrompt.style.display = 'none';
    });
  </script>
</body>
</html>
